components:
  schemas:
    User:
      type: object
      properties:
        id:
          type: string
        email:
          type: string
          format: email
        name:
          type: string
        role:
          type: string
          enum: [user, admin]
      example:
        id: 5ebac534954b54139806c112
        email: fake@example.com
        name: fake name
        role: user
    Device:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        description:
          type: string
        deviceData:
          type: object
      example:
        id: 32bac534954b54139806c112
        name: Device name
        description: Device description
        deviceData: {
          "id": 1,
          "dev_id": 1,
          "dev_code": 61003,
          "dev_type": 25,
          "dev_sn": "",
          "dev_name": "SUN2000(36~50)(COM3-001)",
          "dev_model": "SUN2000(36~50)",
          "port_name": "COM3",
          "phys_addr": "1",
          "logc_addr": "1",
          "link_status": 0,
          "init_status": 0,
          "dev_special": "0",
          "list": [ ]
        }
    DeviceLog:
      type: object
      properties:
        id:
          type: string
        deviceLogData:
          type: array
      example:
        id: 45bac534954b54139806c112
        deviceLogData: [{
          "data_name": "Nominal Power",
          "data_value": "--",
          "data_unit": ""
        }, {
          "data_name": "System Time",
          "data_value": "--",
          "data_unit": ""
        }, {
          "data_name": "CO2 Reduction",
          "data_value": "--",
          "data_unit": "kg"
        }, {
          "data_name": "PV1 Voltage",
          "data_value": "--",
          "data_unit": "V"
        }, {
          "data_name": "PV1 Current",
          "data_value": "--",
          "data_unit": "A"
        }, {
          "data_name": "PV2 Voltage",
          "data_value": "--",
          "data_unit": "V"
        }, {
          "data_name": "PV2 Current",
          "data_value": "--",
          "data_unit": "A"
        }, {
          "data_name": "PV3 Voltage",
          "data_value": "--",
          "data_unit": "V"
        }, {
          "data_name": "PV3 Current",
          "data_value": "--",
          "data_unit": "A"
        }, {
          "data_name": "PV4 Voltage",
          "data_value": "--",
          "data_unit": "V"
        }, {
          "data_name": "PV4 Current",
          "data_value": "--",
          "data_unit": "A"
        }, {
          "data_name": "PV5 Voltage",
          "data_value": "--",
          "data_unit": "V"
        }, {
          "data_name": "PV5 Current",
          "data_value": "--",
          "data_unit": "A"
        }, {
          "data_name": "PV6 Voltage",
          "data_value": "--",
          "data_unit": "V"
        }, {
          "data_name": "PV6 Current",
          "data_value": "--",
          "data_unit": "A"
        }, {
          "data_name": "A-B Line Voltage",
          "data_value": "--",
          "data_unit": "V"
        }, {
          "data_name": "B-C Line Voltage",
          "data_value": "--",
          "data_unit": "V"
        }, {
          "data_name": "C-A Line Voltage",
          "data_value": "--",
          "data_unit": "V"
        }, {
          "data_name": "Phase A Voltage",
          "data_value": "--",
          "data_unit": "V"
        }, {
          "data_name": "Phase B Voltage",
          "data_value": "--",
          "data_unit": "V"
        }, {
          "data_name": "Phase C Voltage",
          "data_value": "--",
          "data_unit": "V"
        }, {
          "data_name": "Phase A Current",
          "data_value": "--",
          "data_unit": "A"
        }, {
          "data_name": "Phase B Current",
          "data_value": "--",
          "data_unit": "A"
        }, {
          "data_name": "Phase C Current",
          "data_value": "--",
          "data_unit": "A"
        }, {
          "data_name": "Grid Frequency",
          "data_value": "--",
          "data_unit": "Hz"
        }, {
          "data_name": "PF",
          "data_value": "--",
          "data_unit": ""
        }, {
          "data_name": "Inverter Efficiency",
          "data_value": "--",
          "data_unit": "%"
        }, {
          "data_name": "Interior Temperature",
          "data_value": "--",
          "data_unit": "℃"
        }, {
          "data_name": "Inverter State 1",
          "data_value": "--",
          "data_unit": ""
        }, {
          "data_name": "Active Power",
          "data_value": "--",
          "data_unit": "kW"
        }, {
          "data_name": "Reactive Power",
          "data_value": "--",
          "data_unit": "kvar"
        }, {
          "data_name": "Total DC Input Power",
          "data_value": "--",
          "data_unit": "kW"
        }, {
          "data_name": "Hourly Yield",
          "data_value": "--",
          "data_unit": "kWh"
        }, {
          "data_name": "Daily Yield",
          "data_value": "--",
          "data_unit": "kWh"
        }, {
          "data_name": "Monthly Yield",
          "data_value": "--",
          "data_unit": "kWh"
        }, {
          "data_name": "Annual Yield",
          "data_value": "--",
          "data_unit": "kWh"
        }, {
          "data_name": "Total Yield",
          "data_value": "--",
          "data_unit": "kWh"
        }, {
          "data_name": "Upv-7",
          "data_value": "--",
          "data_unit": "V"
        }, {
          "data_name": "Ipv-7",
          "data_value": "--",
          "data_unit": "A"
        }, {
          "data_name": "Upv-8",
          "data_value": "--",
          "data_unit": "V"
        }, {
          "data_name": "Ipv-8",
          "data_value": "--",
          "data_unit": "A"
        }, {
          "data_name": "Blocking Status",
          "data_value": "--",
          "data_unit": ""
        }, {
          "data_name": "ZVTR Protection",
          "data_value": "--",
          "data_unit": ""
        }, {
          "data_name": "LVRT Protection",
          "data_value": "--",
          "data_unit": ""
        }, {
          "data_name": "Islanding Protection",
          "data_value": "--",
          "data_unit": ""
        }, {
          "data_name": "Insulation Resistance",
          "data_value": "--",
          "data_unit": "MΩ"
        }, {
          "data_name": "MPPT 1 total input power",
          "data_value": "--",
          "data_unit": "kW"
        }, {
          "data_name": "MPPT 2 total input power",
          "data_value": "--",
          "data_unit": "kW"
        }, {
          "data_name": "MPPT 3 total input power",
          "data_value": "--",
          "data_unit": "kW"
        }, {
          "data_name": "MPPT 4 total input power",
          "data_value": "--",
          "data_unit": "kW"
        }, {
          "data_name": "Alarm information 0",
          "data_value": "--",
          "data_unit": ""
        }, {
          "data_name": "Alarm information 1",
          "data_value": "--",
          "data_unit": ""
        }, {
          "data_name": "Alarm information 2",
          "data_value": "--",
          "data_unit": ""
        }, {
          "data_name": "Alarm information 3",
          "data_value": "--",
          "data_unit": ""
        }, {
          "data_name": "Alarm information 4",
          "data_value": "--",
          "data_unit": ""
        }, {
          "data_name": "Alarm information 5",
          "data_value": "--",
          "data_unit": ""
        }, {
          "data_name": "Alarm information 6",
          "data_value": "--",
          "data_unit": ""
        }, {
          "data_name": "Alarm information 7",
          "data_value": "--",
          "data_unit": ""
        }, {
          "data_name": "Alarm information 8",
          "data_value": "--",
          "data_unit": ""
        }, {
          "data_name": "Alarm information 9",
          "data_value": "--",
          "data_unit": ""
        }, {
          "data_name": "Alarm information 16",
          "data_value": "--",
          "data_unit": ""
        } ]
    Token:
      type: object
      properties:
        token:
          type: string
        expires:
          type: string
          format: date-time
      example:
        token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI1ZWJhYzUzNDk1NGI1NDEzOTgwNmMxMTIiLCJpYXQiOjE1ODkyOTg0ODQsImV4cCI6MTU4OTMwMDI4NH0.m1U63blB0MLej_WfB7yC2FTMnCziif9X8yzwDEfJXAg
        expires: 2020-05-12T16:18:04.793Z

    AuthTokens:
      type: object
      properties:
        access:
          $ref: '#/components/schemas/Token'
        refresh:
          $ref: '#/components/schemas/Token'

    Error:
      type: object
      properties:
        code:
          type: number
        message:
          type: string

  responses:
    DuplicateName:
      description: Name already taken
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          example:
            code: 400
            message: Name already taken
    DuplicateEmail:
      description: Email already taken
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          example:
            code: 400
            message: Email already taken
    Unauthorized:
      description: Unauthorized
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          example:
            code: 401
            message: Please authenticate
    Forbidden:
      description: Forbidden
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          example:
            code: 403
            message: Forbidden
    NotFound:
      description: Not found
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          example:
            code: 404
            message: Not found

  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
